---
title: 39｜条件概率和贝叶斯公式：机器翻译是怎么工作的？
subtitle: 
author: 曲政
date: 2019-12-11
slug: 
tags:
- 
categories:
- Reference
typora-root-url: ../../static
show_toc: yes
---

你好，欢迎来到我的《数学通识 50 讲》。

到目前为止，我们讲的和概率有关的随机试验都是独立的，前后不相关。但是世界上很多随机事件的发生是彼此相关的，比如今天的天气就和昨天的天气有关，在一句话中，某个词是否出现，和上一个词其实也有关。今天我们就来看看，如果前后相关，利用相关性，能够创造什么样的奇迹。

## “条件概率” 和 “本身概率” 有什么区别？

我们先来看看汉语中同音词出现的概率，比如汉语拼音 tian qi，在不考虑音调时，可以是 “天气”，也可以是中药 “田七”。如果没有上下文，“天气” 出现的可能性恐怕是中药 “田七” 的上千倍。但是如果我特别强调它前面一个词汇是 “中药”，那么后面这个词汇是 “田七” 的可能性就比 “天气” 大得多。

可见，在一个特定条件下，某个随机事件发生的概率，和通常它发生的概率有很大区别，这种在某个特定条件下发生的概率，就是条件概率。对于几乎所有的随机事件来讲，条件概率由于条件的存在，它通常不等于本身的概率。

比如说，“天气” 这个词在汉语中出现的概率，用 P（天气）来表示，可能是千分之一（0.1%），而 “田七” 的概率 P（田七）只有百万分之一（0.0001%），但是如果前面一个词是 “中药”，“天气” 的概率就降低到十万分之一了，而 “田七” 的概率则上升到百分之一了。

这时候的概率我们称之为条件概率，“中药” 这个词就是后面出现什么词的条件。一般我们把条件概率写成 P（天气 | 中药）的形式。

条件概率在认知上有非常重要的意义。你从上面的例子中可以看出，考虑不考虑条件，两个随机事件发生的概率可以差出很多数量级，原来不可能发生的事情，就极可能会发生，原来以为是大概率的事情，可能根本就不会发生。

很多人学习别人的经验，用到自己身上就不灵了，原因就是没有搞清楚条件。另一方面，有些原来大家认为不可能做成的事情，一旦条件具备，就成为了大概率事件。

## 条件概率怎么计算？

那么条件概率是怎么计算的呢？为了简单起见，我们这里先不从严格的数学公式讲起，先从经验出发讲一下近似的计算方法，以便于理解。我们先来说说无条件的概率是如何估算的。

我们在前面讲了，当一个随机试验在同等条件下进行很多次时，我们就把它发生的次数，除以试验的总次数，作为近似的概率。在计算语言中词汇出现的概率时也是如此。

比如，我们假定一个词 X 在非常多的汉语文本，比如一年的人民日报中出现了 4000 次，而一年人民日报所有的文章有四百万个词。于是，我们就用 4000 除以总词数 400 万，得到 X 的词频是千分之一，我们用 f (X) 来表示。

当然我们根据前面课程中的讲解，大家知道词频 f (X) 和实际概率 P (X) 之间其实是有偏差的，这件事我们下一讲再讨论，今天我们权且认为它们相等，这样问题讲起来比较简单了。

好了，我们假定统计的文本量非常非常大，各种词共出现了 10 亿次。注意我们这里说的是所有词加起来出现的次数，不是字典中词汇的数量。假如 “天气” 这个词出现了 100 万次，概率就是千分之一，“田七” 出现了 1000 次，因此概率是百万分之一。

接下来我们就可以讨论如何计算条件概率了。我们假定 “中药” 这个词出现了 10 万次，它后面可能跟随着很多种不同的词，比如 “黄芪”、“田七”、“麝香” 等等。那么一个词 X，在给定前一个词是 “中药” 的条件下出现的概率是多少呢？应该就是 “中药 + X” 出现的次数，除以中药出现的次数。

比如，“中药田七” 四个字出现了 1000 次，于是中药条件下 “田七” 的概率就是 1000/100000=1%，类似的，如果，“中药天气” 这四个字只出现了 1 次，那就是说，在中药条件下 “天气” 的概率就是十万分之一。

你可以看出，一个随机事件发生的条件概率，取决于两个因素，一个是这个条件本身出现的次数，在上面的问题中就是 “中药” 出现的那 10 万次；另一个是，这个条件和这个随机事件一同出现的次数，在上面的问题中，就是 “中药田七” 这四个字出现的那 1000 次。条件概率就是后者加了条件后的 “中药田七” 对前者 “中药” 这个词本身的概率比值。在这个例子中，比值就是百分之一。

讲了这么多条件概率的计算，关键要让大家掌握一个公式：P (Y|X)=P (X,Y)/P (X)

【* 注：一件事 Y 在条件 X 下发生的条件概率 P（Y|X），等于条件 X，和这件事 Y 一同发生的联合概率 P（X，Y），除以条件 X 的概率 P（X）。*】

## 如何把式子变形就是贝叶斯公式？

现在我们把这个式子变形，写成：

P (X,Y)=P (Y|X)\*P (X)

*（注：可以理解成 X 和 Y 一同发生的概率，就是 X 发生的概率，乘以在 X 条件下 Y 发生的概率。）*

我们在前面讲过，在数学上的因果关系不像在物理上是单方向的，它可以是条件和结果互为因果。在概率上也有这样一个特点，就是条件和结果可以互换，比如在文本中的两个词 X 和 Y，我们可以说，如果知道前面一个词是 “中药”，请问后面一个词是什么？那么前面的词就是后面的词的条件。

我们也可以反过来说，如果知道了后面的词是 “田七”，请问前面有可能是什么词？这时上面计算条件概率的算法依然适用，只是把 X 和 Y 调一个个儿就可以了，我们可以写成：

P (X|Y)\*P（Y）=P (X,Y) 

对比这个式子和前面的式子，我们发现它们都等于 X 和 Y 的联合概率分布 P (X,Y) ，因此两个等式的左边也必然相等。于是，我们就可以得到一个重要的公式 P (X|Y)\*P（Y）=P (Y|X)\*P（X）。

在这个公式中，如果我们知道了其中三个因子，就能求出第四个。通常来讲，两个条件概率 P (X) 和 P (Y) 是容易求的。另外两个条件概率，一个是 X 条件下 Y 的概率，一个是 Y 条件下 X 的概率，常常一个比较容易得到，另一个比较难得到。所以，我们常常从容易得到的条件概率，推导出难得到的概率。这就是著名的贝叶斯公式。

P (X|Y)=P (Y|X)\*P（X）/ P（Y）

在这个公式中，我们假定 Y 条件下 X 的条件概率比较难得到，我们放在了等式的左边，而 X 条件下 Y 的条件概率容易得到，我们放在了等式的右边。

## 贝叶斯公式有什么用？

数学比较好的同学们可能已经看出来了，这不过是一个小的数学把戏，它真的会很有用吗？

接下来，我们就来看一个例子，看看如何利用条件概率和贝叶斯公式实现计算机自动翻译。

我们假定有一个英语句子 Y，想要翻译成中文句子 X，那么怎么翻译呢？很多人将它想象成语言学问题，其实这是一个数学问题，或者更准确地说，是一个概率的问题。

假定英语句子 Y 有很多种翻译方法 X1，X2，X3……XN，我们只要挑一种翻译 X，使得在已知英语句子 Y 的条件下，X 的概率 P（X|Y）超过其它所有可能的句子的条件概率即可。

比如说，这句话有 10 种翻译方法，它们的条件概率分别是 0.1，0.5，0.01，0.02…… 你会发现第二种翻译方法 X2 的条件概率是 0.5，是最大的，因此就认为 Y 应该被翻译成 X2，或者说 X=X2。

你看，这其实又是一个我们之前讲到过的最优化问题了。那么 P（X|Y）这个概率该怎么计算呢？

（注：* 我们无法通过直接统计获得，因为我们前面讲了，你要想直接计算这个概率，就需要恰巧遇到一个英文句子 Y，对应一个中文句子 X，还在文本中一同出现了很多次。*）

这个条件概率的计算，就要用到贝叶斯公式了。我们将它展开成

P（X|Y）=P (Y|X)\*P（X）/ P（Y）

这个式子中有三个因子。第一个因子 P (Y|X) 是给定中文的句子，对应的英文句子的概率，它可以通过一个马尔可夫模型计算出来，当然你也可以把它想象成通过查字典得到所有相应的汉语词和英语词的对应。这里面的细节我们省略了，有兴趣的同学可以去读读我的《数学之美》一书。

接下来的第二个因子 P（X）是所谓的语言模型，它计算的是哪个句子在语法上更合理，这个也可以通过一个马尔可夫模型计算，这里细节我也省略了。第三个因子 P（Y）是一个常数，因为你要翻译句子 Y，它是个确定的事情，你把它的概率想象成 1 就可以了（其实不是 1）。

于是原来的一个无法直接计算的条件概率，经过贝叶斯公式，变成了三个可以计算的概率。这样，就能够判断给定一个句子，任何翻译出来的中文句子的可能性，然后我们找出最大的那个即可。这便是机器翻译的原理。

要点总结：

首先我们介绍了条件概率的含义，大家可以看出，有没有条件存在，一个随机事件的概率可以相差很大。凡事讲究条件，这是一个重要的知识点。

随后我们介绍了条件概率的计算方法。它的本质是什么呢？概括来讲有两个，首先在数学上条件和结果可以互换，这是它的前提。其次，通过这种互换，可以把一个复杂的问题变成三个简单的问题。这就是贝叶斯公式的本质。利用它，就解决了机器翻译的难题。

在数学上经常要用这样的思路解决问题，看似绕了一个弯，实则是架起了几个桥梁，让本来没有直接通路的两个点，绕几段路能够联通。我们在前面讲到虚数的作用，其实也是绕一个弯之后，把原来不通的道路走通。希望通过这一点，我们能了解远和近的辩证关系。

顺便说一句，在生活中有很多类似机器翻译的问题，看似是智能问题，实际上是数学问题。而学好数学，就是掌握一个工具更好地解决现实问题。我知道这一讲听起来可能有些烧脑，建议你对照文稿再读一遍，我们下一讲再见。


### 用户留言


  - Cynthia483 赞

    #数学助教 #- 贝叶斯视角 【一个反面教材】 今天要挑挑罗老师的逻辑漏洞…… 下面摘自《罗辑思维》-868 期： “有个哥们儿叫老王，他非常害羞，喜欢自己一个人待着。他对集体活动不太感兴趣，唯一感兴趣的是看书。他平时穿着比较整洁，对细节关注的也比较多。他为人温文尔雅。 请问：老王最有可能从事下面哪个职业？A 农民，B 销售，C 图书馆管理员，D 医生，E 飞行员。 …… 可正确答案是，他是个农民的概率比较大。为什么？原因很简单，在人群中，农民的数量非常大，和其他几个选项根本不在同一个数量级上。不管我前面说的是啥，最后都是农民概率最大。” 学了条件概率的你，有没有觉得上面的说法哪里不对？ 【正确思路是什么】 让我们假设： 1）如果一个人具备第一段描述老王的那些特征，那就说事件 F 发生； 2）多数人可能会选 “图书馆管理员”，因此我们简化问题，假设只有 “农民”（A）和 “图书馆管理员”（B）两种可能。 问题本质是要比较，P (A|F) 和 P (A|F) 这两个条件概率，哪个更大。 由贝叶斯公式： P (A|F) = P (F|A) P (A) / P (F) P (B|F) = P (F|B) P (B) / P (F) 上面两个条件概率的分母都一样，因此我们只需要比较分子。 而分子由两部分组成： 1）P (A) （或 P (B)），又称为 “先验概率”（prior），也就是在没有任何条件的情况下，我们对事情的估计； 这里可以用人群中 “农民”（或 “图书馆管理员”）占总人口的比例来近似。 2）P (F|A) （或 P (F|B)），又称为 “似然”（likelihood）； 也就是，当一个人已经是 “农民”（或者 “图书馆管理员”）之后，他出现特征 F 的概率。 所以罗老师错在哪里呢？ 他只比较了 “先验概率”，仅仅由 P (A)>P (B) 就下了结论。 【实际情况是？】 为了抬杠抬的有理有据，我搜了一下 2018 年底的数据，中国农村人口占比大约 40%，美国约 2%，这个数字对应 P (A)；同时为也估计了一下国内图书馆管理员的比例，大概是 0.1% ，这个数字对应 P (B)。 剩下的就是看 “似然” P (F|A) 和 P (F|B) 的比例，是不是能够 “抵消” 掉 “先验” P (A) 和 P (B) 的比例了。 1）如果老王是个中国人，那么先验概率的比例是 400 倍，而 “似然” 比例呢？ 如果两个 “似然” 的比例大于 1/400，那么老王确实更可能是农民，相反，如果似然比小于 1/400，则图书馆管理员的概率更大。 例如，如果一个图书馆管理员具有 F 特征的概率 P (F|B) = 50%，而一个农民具有 F 特征的概率是 P (F|A) = 0.1%，那么 1/500 的似然比让我们相信，老王更可能是图书馆管理员。 2）如果老王是个美国人呢？ 只要 P (F|A) 小于 P (F|B) 的 20 倍，那么老王就是图书馆管理员。 【贝叶斯的世界观】 贝叶斯公式告诉我们，“先验” 的作用固然很大，但我们依然需要保持开放心态，让观点随事实发生改变，用 “似然” 修改神经元的连接权重，用 “后验概率” 决定最终的判断。 虽然我们永远都摆脱不了主观的成分，但有了时刻依据事实更新的大脑，我们会做出更理性和更科学的决策。

    2019 年 12 月 11 日


  - 侯雅琦 161 赞

    ＃数学助教＃ 这节课中的几个核心公式： P (X,Y)=P (Y|X)*P (X) P (X,Y)=P (X|Y)*P (Y) 于是有： P (Y|X)*P (X)=P (X|Y)*P (Y） 如何更容易地理解呢？ 答案是：「分步」，一步一步看。 P (X)：事件 X 发生的概率； P (Y)：事件 Y 发生的概率； P (X,Y)：事件 X，Y 同时发生的概率； 以上，都很容易理解。现在想一想：要让事件 X，Y 同时发生我们可以如何实现？ 我们可以「分步」完成这件事。而且，「分步」有两种不同方法，如下：① 我们可以先让 X 发生，再在 X 发生的基础上让 Y 发生；② 我们可以先让 Y 发生，再在 Y 发生的基础上让 X 发生。 以上①②两种「分步」途径都可以实现让事件 X，Y 同时发生。分步完成一件事总的概率等于每一步完成概率的乘积。于是，上面两种途径就可以写成公式语言： ① X，Y 同时发生 = X 发生 * X 已发生条件下 Y 再发生； ② X，Y 同时发生 = Y 发生 * Y 已发生条件下 X 再发生； 所以，P (X,Y)=P (X)*P (Y|X)=P (Y)*P (X|Y) 理解到这里，剩下的就是简单的乘除运算就能够推出本节课的所有公式。 所以，理解条件概率，可以从 “分步完成” 的角度思考，这样即使再推广到更多的事件，你也能够很快写出正确的公式。比如，A，B，C 三个事件同时发生，我们依旧可以「分步」完成，一种分步方式是：先让 A 发生，再在 A 发生的条件下让 B 发生，再在 A，B 都发生的条件下让 C 发生，由此可以轻松写出公式 P (A,B,C)=P (A)*P (B|A)*P (C|AB)，你学会了吗？ 如果你看懂了上面的思路，可以试着想想其他的分步方式让 A,B,C 同时发生，那么 P (A,B,C) 还可以写出什么样与上面不同的条件概率乘积的形式呢？欢迎大家在留言区尝试与讨论。

    2019 年 12 月 11 日


  - Exodus 白 147 赞

    他每次找我借钱的时候总是笑眯眯的。 P（笑 | 借）=1 他找我借钱的概率。 P（借）=0.1 P（借 | 笑）= P（笑 | 借）*P（借）/P（笑） P（借 | 笑）= 0.1/P（笑） P（笑）越小，则 P（借 | 笑）越大。 如果一个人平时不怎么对你笑，突然之间笑着找你，大概率是要问你借钱了。 用叶贝斯公式论证：无事献殷勤，非奸即盗。

    2019 年 12 月 11 日


  - 古小千 60 赞

    大概率中也有变化，前提条件影响猜想。 这两天谈高斯分布和贝叶斯公式，我分享医疗上的一点心得。首先是高斯分布，很多血液检查的结果虽然都正常，但仍须跟前次相比，若有明显变化仍有临床意义。举个简单的例子，成人女性的血色素正常范围是 12～16g/dl，假设属于高斯分布，平均值与标准差分别为 14、1，如果一人前后两次测得的血色素是 15.5g/dl、12.5g/dl，虽然结果都显示为正常，但却掉了 3 个标准差，临床上仍需进一步调查原因，是否有贫血相关症状、铁质是否足够、或是有可能筛查出早期癌症等等。所以，通常在急诊抽的第一次血有当作基准值的功用，另外，若就医时能有前次资料能比对，相信也能协助医师更好的决策，希望未来个人健康数据的整合，能带来这方面的进步。 另一心得，则是贝叶斯公式。凡事讲究条件，是重要的知识点。医师从踏入临床实习，就必须熟悉各类疾病的好发年龄、流行病学。比方说同样是感染发烧的症状，小儿、老人就大不同，卧床的老人首先要想到褥疮和肺炎，小儿则是上呼吸道、肠胃和泌尿道感染，除此之外，发烧的型态也能帮助推敲，给医师第一时间猜想的疾病，病历上称作 Impression，简单来说就是对疾病表现的第一印象，接着再以猜想去安排检查，去除掉不可能的就是答案。在条件下做事，是面对复杂问题的快速决策法。 概率是统计的智慧结晶。有时隐藏变化，在正态分布中暗潮汹涌；有时限缩范围，在前提条件下聚焦答案。

    2019 年 12 月 11 日


  - Allelujah 朱磊 38 赞

    数学的魅力在于让复杂的问题简单化。 美国著名的计算机科学家贾里尼克领导他的实验室，借助数学中的统计学工具，把当时语言识别的成功率从 70% 提升到 90%，同时让语言识别的规模，从几千个单词上升到几万个单词，让语言识别有了实际应用的可能。 其实贾里尼克的思路很简单，他认为，要判断一个句子正不正确，就要看这个句子出现的可能性的大小，这个可能性用概率来衡量。比如，我们假定第一个句子出现的概率是二分之一，第二个句子出现的概率是千分之一，那第一个句子出现的可能性就比第二个句子大得多，那么从概率的角度来说，第一个句子就更有可能是正确的。 所以接下来我们需要做的事，就是判断一个句子出现的可能性有多大。这时就需要用到 “马尔科夫假设”，这个假设是说，假定一个句子里每个词出现的概率，只和前一个词有关，就好比 “涨停” 这个词，最有可能出现在 “股票” 这个词之后。那么，只要给计算机量足够大的机读文本，也就是专业人士说的语料库，计算机就能算出来，在一个特定词后面出现某个词的概率。这样，只要把一句话里所有词出现的概率相乘，就是这个句子出现的概率。概率最大的句子，就是最有可能正确的句子。按照这个思路，科学家们成功地让计算机拥有了处理自然语言的能力。 一个用几万条复杂语法解决不了的问题，用数学工具就轻松地解决了，而且效果还要好得多。 ——《数学之美》听书

    2019 年 12 月 11 日


  - mengqi30 赞

    #数学助教# 条件概率与贝叶斯公式 推荐阅读：行为经济学 | 第 5 讲 基因与环境：错配是怎么来的？ 余老师讲了一个看病的例子，已知一种病在人群中发病的概率为 0.1%，病人去医院检查，检查结果有 90% 的概率是正确的（也就是说，如果一个人真的患了病，医院检查结果告诉他，他有 90% 的概率患病，10% 的概率不患病；如果一个人没有患病，医院检查结果告诉他，他有 10% 的概率患病，90% 的概率不患病），那么给定一个检查结果告诉我患病，那么我事实上真的患病的概率是多少？ 这是一个典型的利用贝叶斯公式计算的例子，利用公式可以计算出这个概率小于 1% 如果把患病这个事件记为 A（不患病记为 A）；检查有病这个事件记为 B（检查没有病记为 B） 已知的结果有 P (A) = 0.001, P (A)=1-0.001=0.999 P (B|A) = 0.9, P (B|A) = 0.1 我们想计算的是 P (A|B), 也就是在检查有病的条件下，真实患病的概率 利用贝叶斯公式可知 P (A|B) = P (AB)/P (B) 其中 P (AB) = P (B|A) P (A) = 0.0009 P (B) = P (B|A) P (A)+P (B|A) P (A) = 0.1008 从而 P (A|B)= 9/1008<1% 但是现实生活中，我们不会想到用贝叶斯公式，直觉第一反应会告诉我们这个答案是 90%，就连很多医生看到这个检查结果，都会认为患者大概率患病的，因为大家是默认检查结果正确的概率是 90%，一旦查出来患病，那么我大概率确实患病了，而不会去想，其实人群中 99.9% 的人都是不患病的，那么在检查出患病的人中，大部分也都是这些没病却被检查出患病的人，真正患病只占一少部分。

    2019 年 12 月 11 日


  - Hanskeng 尹桂政 28 赞

    我们在大学课堂上有讲过贝叶斯定理，但是从来没有老师像先生一样帮我们推导一边。在法国，一般是先上阶梯教室内种大课，主要讲理论，然后上小班课，主要讲习题。 到最后需要我们会用，但是为什么还真没人说，今天算是补上了

    2019 年 12 月 11 日


  - 伪装 25 赞

    金句总被称之为鸡汤，难以真正形成指导性意见的原因就是没有条件约束，与你个人本身难以形成匹配，于是只能看起来很有道理，其实不知所云。

    2019 年 12 月 11 日


  - 佛祖门徒 23 赞

    前提条件为什么如此重要？贝叶斯公式给出了明确的答案。正如 “橘生淮南则为橘，生于淮北则为枳”，条件不同大概率会对结果产生巨大的影响。 举个较为常见的例子，某人参加体检，某项疾病筛查结果呈阳性，已知该疾病患病率是 0.0004，仪器的准确率是 99%。此人在普查中被查出阳性，请问他的患病概率是多少？把患病者记为事件 A, 属于健康人记为事件 B，检查结果为阳性记为事件 C，利用贝叶斯公式，可得： P (A|C)= P（A） *P (C|A)/（ P（A） *P (C|A)+ P（B） *P (C|B)） 代入数值，即可得出 P (A|C) 约等于 0.0035，说明即使一次结果呈阳性，患病概率也较低，是否有些反直觉？但如果有不良习惯，且出现了相关症状，概率则会大大增加，需要通过进一步检查予以确认。

    2019 年 12 月 11 日


  - 贾旭 21 赞

    今天条件概率的一课，好像不仅阐明了机器学习和语言翻译的基本原理，也可以推进一步，帮助理解人类学习的本质。 人类学习从本质上可以理解为输入输出，通过多种不同的输入输出的配对，而找出之间的关系函数关系，就是知识。 而学习通过输入输出的学习的方法，可以有两种，一种是记忆，一种是理解。 像我们小学时背 99 乘法表，就是通过记忆在学习，在国内学英语也是记忆。 但记忆最大的问题是不能够穷尽，也难于变通，无法做到举一反三。 所以能做的就是像集邮一样，增加知识点的量，而这种做法，就像把 “背” 99 乘法表，增加成 “背” 13 乘 13 的乘法表，虽然可以解决更多问题，但是问题再复杂，就无法解决了。 而通过理解信息输入输出之间的模式，总结出之间的相关关系，并对于输入的信息，以及相对的条件，行程模式识别的能力，才能做到举一反三，甚至举一反十。 在进一步，如果再通过对问题的拆分，把没有见过的复杂问题，拆分成以前学过，可以度量的已知问题，可能就是计算机的分而治之，递归思维的精髓，也是所谓人类的 “智慧” 本质？ 学习数学和相关的计算机知识，意义可能不仅在于，能够解题，可以编程，更在于提高自己的分析问题，解决问题和模式识别的能力，从而更好地构建自己的知识图谱，更有效的解决系统的瓶颈问题。

    2019 年 12 月 11 日


  - robovoid15 赞

    #数学助教# 贝叶斯公式，可以写成 p (A|B)=p (A)*(p (B|A)/p (B)), 其中 p (A) 被称为先验概率，p (A|B) 被称为后验概率，剩下的那部分可以为是信心系数。也就是 后验概率 = 先验概率 * 信心系数。一方面，可以根据先验概率，以及实验得到后验概率。另一方面，也可以根据实验，不断修正先验概率。 还是那个关于癌症检测已经被举滥的例子，把公式写出来： p (癌症 | 阳性)= p (癌症)*p (阳性 | 癌症)/(p (癌症)*p (阳性 | 癌症) + p (非癌症)*p (阳性 | 非癌症)) 这里面由于相比测试的敏感度 p (阳性 | 癌症)，p (非癌症) 要大很多，所以分母相对来说比较大，导致最终的结果会比较小。具体数值就不代入了，相关例子很多。但是要注意的是，有具体的数值的例子，很多是为了强调 不要因为思维惯性，把后验概率和测试敏感度划等号。p (癌症 | 阳性) 不仅不等于，p (阳性 | 癌症)，一般来说还要小很多 但是，这并不意味着测试就没用。为什么？后验概率比较小，这个小是和 1 (100%) 或者接近 1 的数值比的。但是如果和先验概率 p (癌症) 比，就很大了。也就是说，被测试者患癌症的几率，已经在 p (癌症) 的基础上提高了很多倍。如果进一步测试，那么先验概率就可以使用前一步得到的后验概率，而不用所有人里患癌症的概率 p (癌症)。也就是前面所说的，根据实验，修正先验概率

    2019 年 12 月 11 日


  - 朱宇洲 上海 6 期 4 班 15 赞

    在某个特殊条件下某件事发生的概率，可能和在一般条件下发生的概率千差万别。 复制某种行为，却没有得到同样的结果，可能不是模仿的不到位，而是所处的条件不一样。

    2019 年 12 月 11 日


  - 罗怀昭 11 赞

    贝叶斯公式理解深入还是有些复杂，应用到计算机世界，可能和大家隔得更远，不过在生活中，它其实是非常有指导意义，所以现在得到的同学们一直在强调要具备一个 “贝叶斯大脑”。 既然概率是随着条件发生改变的，对自己的学习和提升，我们更希望得到更好、更接近于真实的认知。所以，先开放自己，让自己有个观念，再去寻找靠谱的条件，比如向真正的专家和团队咨询，向有相当经验和思想的长辈请教，这样就可以修正自己的认知， 我们即开放，又随时准备好更新自己的脑袋；即有自己的思想，又不断寻求更可靠的条件，逐渐完善自己的认知系统。 贝叶斯公式就是让我们永远保持谦卑、不断学习下去的最好 “动力公式”。

    2019 年 12 月 11 日


  - 陈 C9 赞

    除了用在专业领域中，条件概率和贝叶斯公式对我们更普遍的启发，在于它揭示了几种常见的认知误区。 首先就是 “忽略基本比率”，以及由此造成的概率混淆。比如之前我和朋友聊起过交通工具的安全性问题，我说飞机出事故的概率非常低（事件 X），他说，“但是飞机万一出了事情，死亡的概率就是 1（事件 Y）啊，飞机就是不如汽车安全啊”。其实这里的一个基本错误，就是混淆了 P (X|Y) 和 P (X,Y)，前者的确是无限接近 1（事实上也有空难幸存者，但很少），但后者才是我们真正关心的，“搭乘飞机的死亡概率”，按照近几年的情况，数量级大概是几百万分之一。相比之下，车祸的 P (X|Y) 虽然要小得多，但是 P (Y) 相比飞机却不成比例地增大，因此 “乘坐汽车” 的死亡率（注意这里是 P (X,Y)），实际上还是要高于飞机的。 再者，就是 “反直觉” 造成的错觉。比如香帅老师在她的金融学课里，就出过这么一道思考题：瓶子 A 里 7 红球 3 蓝球，瓶子 B 里 3 红球 7 蓝球；先选定一个瓶子，然后每次取出一个球后就放回去，结果取出 8 红 4 蓝，问选中瓶子 A 的概率是多大？（令选取出 8 红 4 蓝是事件 X，选瓶子是事件 Y）很多人第一反应是，50% 啊。这其实就是将 P (Y) 错当成了，我们真正想要的 P (Y|X)。实际上因为 P (X|YA) 远比 P (X|YB) 大得多，这道题的正确答案是 97%。另外还有一个值得注意的地方，就是这一讲里老师讲到，有些时候 P (X|Y) 是不容易得到的，需要我们通过另外三个值去计算。在这道题中，P (X|Y) 是一个反直觉的概率，需要去求解；而求解过程真正的 “难点”，其实是正确计算 P (X)，你需要对瓶子 A、B 分别求一次 X 的条件概率，才能知道 X 的总概率，写成公式就是 P (X) = P (X|YA)*P (YA)+P (X|YB)*P (YB)。 第三个误区，就是观点的 “非黑即白” 与 “左右摇摆”。有时候出现了一个新的事实证据，看起来和我们已有的某个观念相悖，我们就会忍不住，去全盘否认已有的观念。虽然科学研究中，一些理论的确会被反例全盘推翻（其实很多时候，仍然是 “修正” 而非直接 “否定”），但我们所持有的大多数观念，其实都并非 “全信” 或者 “全不信”，而是存在一个 “程度”。万维钢老师在精英日课第二季里，就曾经讲过 “贝叶斯方法”，就是判断新证据，和已有的观念之间有多大的相关性，来修正自己的观念。我们需要的是 “修正”，而非随意的 “颠倒”。

    2019 年 12 月 11 日


  - 中武妖 9 赞

    吴军老师，今天用数学的方式说明了，这个社会不缺少廉价的拷贝和重复的愚蠢。通过贝叶斯公式就会发现，很多人看到别人成功就去读了很多名人的传记。有的人看到别人买比特币赚到了钱，自己也去买的时候发现比特币大跌了。还有的人看到别人在牛市赚到了钱，自己也进去的时候牛市变成了熊市。为什么很多人学了很多却任然过不好这一生，就是因为很多人都忘记自己所处的条件是什么，如果只是廉价的拷贝和重复的愚蠢，只会浪费时间，精力，不会产生任何的价值。通过贝叶斯公式计算就会发现，所有人都认为是机会的机会就不是机会，而是陷阱了。因为所有人都知道的机会，就变成了一个公共事物，想要赚到钱根本就是不可能的，因为失去了稀缺，失去了垄断，投入再多也不会有任何的产出。如果真的想要获得成功，就需要明白想要成功需要自己懂得大量的知识，明白维度，思维，见识，认知，政治，法律，历史，人性等等。这样就可以通过贝叶斯公式来增加自己成功的概率，让一个随机事件的概率可以不断的增加，最终形成一个成功的机会。老师讲过中国最早做电商的不是马云而是 8848，这些公司失败之后公司的 CEO 就说中国不适合电商的发展，大家都没有诚信。而马云却通过电商成为了行业的巨头，因为他不断的解决问题，没有信用平台自己建立一个，没有快递自己就去找快递公司谈判，最终让一切条件都具备的时候，阿里巴巴成为了电商行业的巨头。这样的问题看似是随机的，但是马云用条件增加了事物发生的概率，最终触发了随机事件的发生。之后想要模仿阿里巴巴的公司都失败了，因为他们触发随机事件的条件改变了，但是这些人还以为廉价的拷贝和重复的愚蠢可以获得成功，就开始陷入到创业，失败，再创业，再失败的怪圈里。所以想要成功就需要明白成功的条件是什么，怎样通过自己拥有的条件来增加随机概率的出现，只有通过不但的增加条件，不断的建立连接的桥梁，才能触发出随机事件，最终获得自己想要的成功。

    2019 年 12 月 11 日


  - 书画经纪人郭青峰 9 赞

    月亮女神归来！ 机器学习离不开数学，讲数学必然也离不开机器学习。 贝叶斯公式的另一个应用，贝叶斯模型，属于分类算法中的概率分类。有个典型应用就是识别垃圾邮件，如果你的邮件里出现了某些特殊字符，就大概率是垃圾邮件。 似然估计在做了多次实验后，每次实验把独立事件的概率联合起来，就是连乘，得到似然函数，能得到每次实验的总概率，找到最大的概率，这就是最大似然估计。 贝叶斯定理是求条件概率，例如你去电影院看了 N 场电影，你的朋友在你没分享某部电影和分享某部电影，去电影院看同部电影的概率是大不一样的，你可以认为这就是简单的贝叶斯定理。 这就是现在商家所要的口碑，各种引诱你分享朋友圈，群聊的底层逻辑。 似然也叫后验概率，对应先验概率，最大似然估计，贝叶斯定理，贝叶斯模型，还有后来的各种平台的各种推荐算法，都基于贝叶斯公式。 机器翻译后来又有了循环神经网路 RNN 模型，长短期记忆网络 LSMN 模型，深度 RNN 模型，注意力模型，GRUM 门模型等等，技术发展越来越快。

    2019 年 12 月 11 日


  - 自动驾驶 er8 赞

    最近在学习机器学习，贝叶斯在概率公式推导中简直是神器的存在，辅以马尔科夫链式法则求在已知信息中的条件概率，很多问题可以迎刃而解； 扩展到控制理论：工业界广泛应用的卡尔曼滤波也是基于以上原理形成了迭代过程； “许多智能问题本质上是数学问题”，学习的越多，对此的感触越深；不禁感慨，掌握好数学通识，才做智能时代的弄潮儿

    2019 年 12 月 11 日


  - Dx7 赞

    全概率公式： P (A) = Σ P (ABi) = Σ P (A|Bi) P (Bi) 之前看到过一个有趣的实验。 研究学生有没有看过黄色书刊。这个问题，研究人员如果当面去问学生，肯定得不到真实数据（无法知道哪些人撒谎了）。那怎么办呢？ 于是研究人员设计了两个问题： B1：你的生日是否在 7 月 1 日之前。 B2：你是否看过黄色书刊或影像？ 答题纸上只有两个选项：“是和不是”。但没有题目。 准备一个罐子，里面放上一堆红球和白球，其中红球的比例是 π（白球的比例就是 1-π）。 学生先在罐子里抽一个球，拿到白色就在纸上回答问题 B1，拿到红色就在纸上回答问题 B2。 回答完之后，把纸扔到箱子里。 由于答题是不记名的，而且纸上只有答案，没有题目。就降低了学生答题的压力，进而降低了说谎的可能。 但实验做完后，箱子里面的一堆纸，有答案没题目，怎么统计有多少学生看过黄书呢？ 好玩的东西来了。 假设有 1000 个以上的学生参加了实验（样本数量需要比较大，这个结合昨天的课程） 假设上半年出生人数和下半年出生的人数各占 50%。 拿到白球的人中，应该有 50% 的人回答 “是”。 P (是 | 白球) = 0.5 拿到红球的人中，有比例 p 的人看过黄书，回答 “是”。 P (是 | 红球) = p (这个时候 p 是未知数) 下面全概率公式出马了 P (是) = P (是 | 白球) P (白球) + P (是 | 红球) P (红球) P (是) 通过清点箱子里面的答题纸情况获得，是已知量。 P (是) = 0.5*(1-π) + p*π 除了 p，全都是已知量，求解 p，就能获得看过黄书的同学比例了。 贝叶斯公式： P (Bk|A) = P (A|Bk) P (Bk) / (Σ P (A|Bi) P (Bi) ) (k=1,2,3,...,n) 可以看出，等式右边的分母上，就是一个全概率公式。 这个公式是用来描述如何通过新结果，来修正以往记录中，事件的发生概率。 这个公式常被用在类似下面的情况中。 1. 通过一件事 A，对多个参与者 Bk 的情况进行重新评估。 例：根据面试考分，来选择候选人。 （这种应用使用的时候要小心，它的计算不对参与者以往的所有记录进行累加，所以结论的偶然性比较强。） 2. 计算检验中的假阴性，假阳性概率。 例：验孕棒说女朋友怀孕了，男孩到底有多大概率是真的要当爹了。 3. 通过一系列的预测 Bk，以及同一个对象的表现结果 A，来更新该对象下次预测的可靠性。 例：销售说这次这个新客户肯定拿下了，其他部门一定要怎么怎么支持他。通过该销售的以往的预测和销售记录，计算该销售这次能拿下新客户的概率。

    2019 年 12 月 11 日


  - Frank 林 7 赞

    #《数学之美》读书笔记# 贾里尼克采用基于统计的方法，把句子 “是否合理”，也就是其文法正确的可能性，用概率来衡量。句子出现概率最大，则表示其合理。 起初因为条件概率涉及的可能性太多，无法估算，后来的马尔可夫假设，简化了问题。 P (wn|w1,w2,・・・,wn-1)≈P (wn|wn-1) 使得公式从对应统计语言模型的 N 元模型，简化成了二元模型。 事实证明了统计语言模型的有效性。 马尔可夫假设，似乎太过简化，因为在一个句子中很容易找到一个词，和它之前的若干个词都有关系。 『假定文本中的每个词 wi 和前面 N-1 个词有关，而与更前面的词无关。』则有了 N-1 阶马尔可夫假设： P (wi|w1,w2,・・・,wi-1)=P (wi|wi-N+1,wi-N+2,・・・,wi-1) 此为 N 元模型。 当 N=2 时，是二元模型；当 N=1 时，是一元模型。 『Google 的罗塞塔翻译系统和语音搜索系统，使用的是四元模型，该模型存储于 590 台以上的 Google 服务器中。』 四元或者更高阶模型也不能覆盖所有语言现象。

    2019 年 12 月 11 日


  - 王绪金_AI6 赞

    1、贝叶斯定理的推广，对于事件有二个以上的情况，贝叶斯定理亦成立。例如：P (A|B,C)=P (A) P (B|A) P (C|A,B)/P (B) P (C|B)。<br />2、贝叶斯定理应用举例：吸毒者检测、不良种子检测、胰腺癌检测。某事件在给定条件下发生概率还要重视 “先验概率”，下面以胰腺癌检测为例做说明：<br /> 基于贝叶斯定理，即使 100% 的胰腺癌症患者都有某症状，而某人有同样的症状，绝对不代表该人有 100% 的概率得胰腺癌，还需要考虑先验概率，假设胰腺癌的发病率是十万分之一，而全球有同样症状的人有万分之一，则此人得胰腺癌的概率只有十分之一，90% 的可能是是假阳性。<br />3、找准事情、问题的本质，等价变换，问题拆解，做成事情需要条件。这些是要写在墙上，常提醒自己的。

    2019 年 12 月 11 日

- 以上留言由 作者 筛选显示
